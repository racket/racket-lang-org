<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <title>Racket Web Server Security Vulnerability</title>
    <meta name="description" content="_posted by Sam Tobin-Hochstadt_  We recently discovered a serious security vulnerability in the Racket web server, which can lead to unintended disclosure of files on the machine running the web server. This vulnerability is fixed in Racket version 6.4, j...">
    <meta name="author"      content="The Unknown Author">
    <meta name="keywords"    content="">
    <meta name="viewport"    content="width=device-width, initial-scale=1.0">
    <link rel="icon"      href="/favicon.ico">
    <link rel="canonical" href="http://blog.racket-lang.org/2016/02/racket-web-server-security-vulnerability.html">
    <link rel="next" href="/2016/02/racket-v64.html">
    <link rel="prev" href="/2016/04/racket-v65.html">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <link rel="stylesheet" type="text/css" href="/css/blog-fonts.css">
    <!-- Feeds -->
    <link rel="alternate" type="application/atom+xml" href="/feeds/all.atom.xml" title="Atom Feed">
    <link rel="alternate" type="application/rss+xml" href="/feeds/all.rss.xml" title="RSS Feed">
    <!-- JS -->
    </head>
  <body>
<row class="one-column" id="logo"><col-1><a href="http://racket-lang.org"><div><img class="legacy-logo" src="/img/logo-and-text-inverted.png"/></div></a></col-1><col-2><p><a href="/index.html">blog</a></p></col-2></row>
<article>
<row>

<col-1>
  <p class='date-and-tags'>08 Feb 2016</p>

</col-1>

<col-2>
  <header>
  <h1>Racket Web Server Security Vulnerability</h1>
  </header>

<p><em>posted by Sam Tobin-Hochstadt</em></p>

<p>We recently discovered a serious security vulnerability in the Racket web server, which can lead to unintended disclosure of files on the machine running the web server. This vulnerability is fixed in <a href="../../2016/02/racket-v64.html">Racket version 6.4</a>, just released, and we encourage people to upgrade to that version.</p>

<p>The vulnerability affects web servers that serve static files using the <code>#:extra-files-paths</code> option, including the default value of this option. If you do not use the Racket web serve to serve static files, or you do so via a mechanism that does not use the <code>make-url-&gt;path</code> function, then you are likely not vulnerable. Affected web serves will allow specially-crafted URLs to access files outside of the specified paths, potentially exposing any file that the web server process is able to read.</p>

<p>If you cannot immediately upgrade to version 6.4, we have provided a package catalog with updated versions of the &ldquo;web-server-lib&rdquo; package for versions of Racket back to 6.0. That catalog is located at</p>

<p><a href="http://download.racket-lang.org/patches/web-server-1/">http://download.racket-lang.org/patches/web-server&ndash;1/</a></p>

<p>To use it to upgrade your Racket installation, add it as a catalog using <code>raco pkg config</code>. To make this process easier, you can download the Racket script available <a href="https://gist.github.com/samth/c81e1e2fabc744759970">here</a>. Then run:</p>

<div class="brush: bash">
 <div class="pygments">
  <pre><span class="nv">$ </span>racket add-catalog.rkt
<span class="nv">$ </span>raco pkg update -i web-server-lib
</pre></div>

</div>

<p>If you need advice on updating Racket installations older than version 6.0, please let us know and we will provide them.</p>

<p>To test that your Racket installation is fixed, you can run <a href="https://gist.github.com/samth/740cc39eb6c0d9bd7bc3">the program here</a>. It will print whether your installation is out of date.</p>
<col-2>

</row>

<footer>
<row>
<col-1>
</col-1>
<col-2>
<h2><span class="label">next</span> <a class="next" href="/2016/04/racket-v65.html">Racket v6.5</a></h2>

<h2><span class="label">prev</span> <a class="previous" href="/2016/02/racket-v64.html">Racket v6.4</a></h2>

</col-2>
</row>
</footer>

</article>

<row class="one-column" id="bottom"><col-1></col-1><col-2>
<p>Made with <a href="https://github.com/greghendershott/frog">Frog</a>, a static-blog generator written in Racket.
<br /><a href="https://github.com/racket/racket-lang-org">Source code</a> for this blog.</col-2></row>
  </body>
</html>